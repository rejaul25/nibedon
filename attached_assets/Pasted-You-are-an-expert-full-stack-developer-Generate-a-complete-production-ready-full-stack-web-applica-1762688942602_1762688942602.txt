You are an expert full-stack developer. Generate a complete, production-ready full-stack web application called **Bhavki Membership Manager** that implements the exact requirements described below.

**Tech stack**

* Frontend: Next.js (React) + Tailwind CSS (use TypeScript).
* Backend: Next.js API routes (or Express within Next) + Node.js + Mongoose + MongoDB.
* Auth: JWT with httpOnly secure cookies (or clearly-documented alternative).
* Security: bcrypt, helmet, express-mongo-sanitize, xss-clean, rate-limiter, validation with `zod` or `joi`.
* Tests: Unit tests for share calculations and key backend logic (Jest).
* Provide `README.md`, `.env.example`, seed scripts.

**Core user roles**

* `chairman` — seeded account (username and password set via `.env` or seed script). Chairman **cannot** register by frontend. Chairman can use "forgot password" (email reset).
* `member` — general user. Can register only after a valid membershipId is generated by chairman.

**Data models (Mongoose / TypeScript interfaces)**

* `User`:

  * `_id`, `membershipId` (string, unique, immutable), `name`, `fatherName`, `mobile`, `passwordHash`, `role: 'member' | 'chairman'`, `shareType: 'fullShare' | 'newMember' | null`, `createdAt`, `updatedAt`.
* `Payment`:

  * `_id`, `memberRef` (ObjectId ref User), `membershipId` (string), `amount` (number), `date` (ISO), `paymentFrom` ('bKash'|'Nagad'|'Bank'), `transactionNumber` (string | null), `createdBy` (chairman id), `createdAt`, `updatedAt`.
* `MembershipId`:

  * `membershipId` (string), `assignedTo` (User _id | null), `isDeleted` (boolean), `createdAt`.
* `PasswordResetToken` for chairman reset.

**Important behavior**

1. Chairman can **generate membership IDs** and **create members** (two options at creation: `new but full share` OR `new member`). Generating an ID stores it in `MembershipId` pool.
2. Chairman can **edit any member field** (except membershipId unless explicitly allowed) and **edit any payment field** (including adding/updating `transactionNumber` later). Edits must be audited (store `updatedBy` and `updatedAt`).
3. Chairman can **delete** a member. Deleting must:

   * Remove or soft-delete the `User`.
   * Cascade delete or archive all `Payment` records.
   * Mark corresponding `MembershipId.isDeleted = true` so that id cannot be reused.
4. Member can register only using a **valid** `membershipId` (generated by chairman and not assigned nor deleted).
5. After member registration, auto-redirect to login. After login, member lands on personal profile showing full payment history (from first to latest).
6. Payment recording:

   * Each payment entry: `name`, `membershipId`, `date`, `amount`, `paymentFrom`, optional `transactionNumber`.
   * Chairman records payments through a form; supports single or bulk monthly entries.
   * Clicking a member card shows full details and timeline.
7. Search by `name` or `membershipId` on chairman dashboard.
8. Prevent NoSQL injection, XSS, CSRF (if cookies), and validate/sanitize all inputs server-side and client-side.
9. Implement rate-limiting on auth endpoints and secure password storage with `bcrypt`.

**Share calculation (implement exactly and comment clearly)**

* For **old (existing) members**:
  `share = 500 × months (when this member added from this month, just count month after 12 month count 13 just increase number autometically with current date) × 100  / ( member_count (all member numbers) × months (when this member added from this month, just count month after 12 month count 13 just increase number autometically with current date)) × 500`
  (Implement this formula with clear inline comments and also provide a mathematically equivalent, readable JS implementation and unit tests.)
* For **new members**:
  `share = 500 × months (when this member added from this month, just count month after 12 month count 13 just increase number autometically with current date) × 100 / previous total_money + current month money (500 * current month member count, here you need to use member database list lengt)`
  (Implement and test; explain step-by-step in README in Bangla + English.)
* For **“new but full share”**: when chairman selects this option, calculate upfront required payment = `500 × (number of months existing members have paid)` and record that payment as proof.

**API endpoints (examples to implement)**

* `POST /api/auth/chairman/login`
* `POST /api/auth/chairman/forgot-password` (emails reset token)
* `POST /api/auth/reset-password`
* `POST /api/auth/member/register` (validate membershipId availability)
* `POST /api/auth/member/login`
* `POST /api/membership-ids` (chairman: generate id)
* `POST /api/members` (chairman: create member with share type)
* `GET /api/members` (chairman: list + search + pagination)
* `GET /api/members/:id` (includes payments)
* `PUT /api/members/:id` (chairman can update any editable fields; members can update their own except membershipId)
* `DELETE /api/members/:id` (chairman only — cascade delete/archive + mark membershipId deleted)
* `POST /api/payments` (chairman record payment)
* `PUT /api/payments/:id` (chairman can update payment details including transactionNumber)
* `GET /api/payments/member/:membershipId`
* `GET /api/reports/share?from=&to=` (returns share calculation and per-member %)
* `POST /api/seed` (dev only — seeds chairman and optional sample data)

**Frontend pages & UX**

* Public: Home, Chairman Login (with forgot password), Member Register, Member Login.
* Member Dashboard: Profile, Payment history, Edit profile (membershipId not editable).
* Chairman Dashboard: Member list (cards with % share), search, generate membership id, create member form with `new but full share` option, record payments form (single + bulk), member detail modal with full timeline and edit/delete buttons.
* Use Bangla labels for member-facing forms/buttons (e.g., `নাম`, `পিতার নাম`, `মোবাইল নম্বর`, `মেম্বারশিপ আইডি`, `পাসওয়ার্ড`, `লগইন`), but keep code variable names in English.
* After registration redirect to member login automatically.

**Validation & security**

* Client: validate required fields, password rules, confirm password.
* Server: validate with `zod/joi`, sanitize inputs with `express-mongo-sanitize` and `xss-clean`.
* Use parameterized queries / safe Mongoose queries (never pass user object directly).
* Escape all displayed user content and use React safely.
* Implement rate-limiter on login and forgot-password endpoints.
* Use helmet and CORS policies.
* Log admin edits (who changed what and when).

**Dev & deployment**

* Provide `.env.example` including: `MONGODB_URI`, `PORT`, `JWT_SECRET`, `CHAIRMAN_USERNAME`, `CHAIRMAN_PASSWORD`, `CHAIRMAN_EMAIL`, `SMTP_HOST`, `SMTP_PORT`, `SMTP_USER`, `SMTP_PASS`.
* Provide `seed` scripts:

  * `npm run seed:init` — create chairman from env values (hash password).
  * `npm run seed:sample` — seed 10 members and sample payments.
* Provide `npm` scripts: `dev`, `build`, `start`, `test`, `seed:init`, `seed:sample`.
* Include README that explains:

  * How to run and configure DB.
  * Where to change chairman credentials (which env file).
  * How forgot-password works and how to configure SMTP.
  * Exact share formulas (both Bangla and English) and how the app uses them.
  * How to mark a member as `new but full share` and that the system will compute required upfront payment.
  * How deleting a member works and that membershipId becomes permanently unusable.

**Extras**

* Add unit tests (Jest) for:
 											 
  * share calculation functions,   
  * membership id generation (uniqueness),
  * payment aggregation for monthly reports.
* Audit log: store chairman actions like create/edit/delete member/payment with timestamp and chairman id.
* Provide helpful UI messages in Bangla for member actions (registration success, missing txn number update prompt, etc.).

**Final deliverables**

* Full source code in a single Next.js project (TS), modular structure, comments.
* `README.md` with step-by-step setup & explanation (include Bangla snippets for formulas and UI flow).
* `.env.example`, migration/seed scripts, tests.
* Sample data seeder and instructions to run it.

**Special note (must be implemented exactly)**
*Chairman must be able to update any member or payment detail later.* For example: if a payment was recorded without a transaction number, the chairman must be able to open that payment record and **edit** (add) the `transactionNumber`. All such edits must be recorded in the audit log (`updatedBy`, `updatedAt`, `changeSummary`). Make this a required feature and include frontend UI for chairman to edit payments and members.

---

Put this entire block into the code-generator and produce the full project files, ready to run. Provide the generated files, or if too large, a downloadable ZIP and a clear file list in the root. Also include the `README.md` exactly as requested.

---

If you want, I can now:

* 1. shorten this prompt for use with character-limited APIs, or
* 2. generate the project scaffold now (I will produce the code files here). Which one do you want?


finally make this project with dockerize and i can run this project with docker and make me a readme.md file that how can i run this project and use this project. 



ok use framework- next.js and database postgreeSQL and make this project fully functional and modern ui design.

make sure jwt token genarate autometically, don't use hardcodeded jwt token, jwt token autometically genarate.

and make a readme.md file that how can i run this projet and how can i use.

note: make sure my all functionality are fully working that i mentiond you and make one functionality that track for all history and only chairman can see this hisoty, like member add-delete and investment like this.

make one functionality investment, this is for chairman functionality genaral member just can see where investerment and why how many money invest. this investment details also can update by chairman. Member just can see
